<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script>
		function lodify() {
			var xhr = new XMLHttpRequest();
			const text2translate = document.getElementById('text-to-translate').text
		    xhr.onreadystatechange = function() {
		      console.log('sending');
		      if (this.readyState == 4 && this.status == 200) {
		        if (this.responseText) {
		          console.log('received response');
		          document.getElementById('translated-text').value = this.responseText
		        } else {
		          console.log('error');
		        }
		      }
		    }
		    xhr.open("POST", "/translate", true);
		    xhr.setRequestHeader("Content-Type", "application/json");
		    xhr.send(JSON.stringify({text: text2translate}));
		}
	</script>

	<link rel = "stylesheet" type = "text/css" href = "style.css" />

</head>
<body>
<div class="wrapper">
	<div id="header">
		Lodi Lingo
	</div>
	<div id="text-box">
		<textarea id="text-to-translate"></textarea>
		<button onclick="lodify();">LODIFY</button>
	</div>
	<div id="translation">
		<textarea id="translated-text" type="text" disabled="true"></textarea>
	</div>
</body>
</html>
